<!doctype html>
<html lang="en">
    <head>
      <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>darktable user manual - color calibration</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">








      

    
    
	
	    
		<link rel="stylesheet" href="/dtdocs/css/style.min.08cc3ac1ecba4af1ea92bf911b32fc1944916d069151bd78fc65574cb855c6bd.css" integrity="sha256-CMw6wey6SvHqkr&#43;RGzL8GUSRbQaRUb14/GVXTLhVxr0=" crossorigin="anonymous">
	    
	
    


      


<script> var indexURL="https:\/\/darktable-org.github.io\/dtdocs\/en\/index.json"</script>
<script src="/dtdocs/js/jquery.js"></script>
<script src="/dtdocs/js/popper.js" type="module"></script>
<script src="/dtdocs/js/bootstrap.js"></script>
<script src="/dtdocs/js/lunr.js"></script>
<script src="/dtdocs/js/app.js"></script>


      <meta property="og:url" content="https://darktable-org.github.io/dtdocs/en/module-reference/processing-modules/color-calibration/">
<meta property="og:site_name" content="darktable user manual">
<meta property="og:title" content="color calibration">
<meta property="og:description" content="A fully-featured color-space correction, white balance adjustment and channel mixer module.
This simple yet powerful module can be used in the following ways:
To adjust the white balance (chromatic adaptation), working in tandem with the white balance module. Here, the white balance module makes some initial adjustments (required for the demosaic module to work effectively), and the color calibration module then calculates a more perceptually-accurate white balance after the input color profile has been applied.">

<meta property="og:image" content="https://darktable-org.github.io/dtdocs//darktable.svg">
<meta property="og:locale" content="en">
<meta property="og:type" content="article">
<meta property="article:section" content="module-reference">

    </head>
    <body>
        

        <header class="navbar navbar-expand-lg sticky-top  navbar-dark bg-dark">
   <a class="navbar-brand" href="/dtdocs" rel="home" title="darktable user manual">
	darktable user manual
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
	    
	</ul>
        <ul>
           <form class="form-inline my-2 my-lg-0">
                <input id="search-input" class="form-control mr-sm-2" type="search" placeholder="Search" autocomplete="off" aria-label="Search">
           </form>
        </ul>


    </div>
</header>

<div id="search-results" class="search-results">
</div>


        <div class="container-fluid">
	    <div class="row">
		<div class="content col-sm-12 order-sm-1 col-md-9 mx-md-auto order-md-12">
		    



<div class="crumbs">
    <span class="crumb">
	


<a href='/dtdocs/en/'>darktable</a> / <a href='/dtdocs/en/module-reference/'>Module Reference</a> / <a href='/dtdocs/en/module-reference/processing-modules/'>processing modules</a> / color calibration
    </span>
</div>

<div class="prev-next row">
    <div class="col-6">
    
	<a href="/dtdocs/en/module-reference/processing-modules/color-balance-rgb/" class="next">&lt; color balance rgb</a>
	
    </div>
    <div class="col-6">
    
	<a href="/dtdocs/en/module-reference/processing-modules/color-contrast/" class="prev">color contrast &gt;</a>
	
    </div>
</div>


<article role="main">

    <h1 class="title">
        color calibration
    </h1>

    
    <div class="toc">
	<a data-toggle="collapse" href="#collapseTOC" role="button" aria-expanded="false" aria-controls="collapseTOC">
  
</a>
<div class="collapse" id="collapseTOC">
    <div class="card card-body">
	<nav id="TableOfContents">
  <ul>
    <li><a href="#white-balance-in-the-chromatic-adaptation-transformation-cat-tab">White Balance in the Chromatic Adaptation Transformation (CAT) tab</a>
      <ul>
        <li><a href="#cat-tab-workflow">CAT tab workflow</a></li>
        <li><a href="#cat-tab-controls">CAT tab controls</a></li>
        <li><a href="#cat-warnings">CAT warnings</a></li>
      </ul>
    </li>
    <li><a href="#channel-mixing">channel mixing</a></li>
    <li><a href="#r-g-and-b-tabs">R, G and B tabs</a>
      <ul>
        <li><a href="#r-g-and-b-tab-controls">R, G and B tab controls</a></li>
      </ul>
    </li>
    <li><a href="#brightness-and-colorfulness-tabs">brightness and colorfulness tabs</a>
      <ul>
        <li><a href="#colorfulness-tab-controls">colorfulness tab controls</a></li>
        <li><a href="#brightness-tab-controls">brightness tab controls</a></li>
      </ul>
    </li>
    <li><a href="#gray-tab">gray tab</a>
      <ul>
        <li><a href="#gray-tab-controls">gray tab controls</a></li>
      </ul>
    </li>
    <li><a href="#area-color-mapping">area color mapping</a>
      <ul>
        <li><a href="#step-1set-the-target">step 1: set the target</a></li>
        <li><a href="#step-2-match-the-target">step 2 : match the target</a></li>
        <li><a href="#step-3deactivate-color-mapping">step 3: deactivate color mapping</a></li>
      </ul>
    </li>
    <li><a href="#extracting-settings-using-a-color-checker">extracting settings using a color checker</a>
      <ul>
        <li><a href="#supported-color-checker-targets">supported color checker targets</a></li>
        <li><a href="#prerequisites">prerequisites</a></li>
        <li><a href="#usage">usage</a></li>
        <li><a href="#reading-the-profile-report">reading the profile report</a>
          <ul>
            <li><a href="#delta-e-and-the-quality-report">delta E and the quality report</a></li>
            <li><a href="#profile-data">profile data</a></li>
            <li><a href="#normalization-values">normalization values</a></li>
            <li><a href="#overlay">overlay</a></li>
          </ul>
        </li>
        <li><a href="#enhancing-the-profile">enhancing the profile</a></li>
        <li><a href="#profile-checking">profile checking</a></li>
      </ul>
    </li>
    <li><a href="#caveats">caveats</a></li>
  </ul>
</nav>
    </div>
</div>

    </div>
    

    <p>A fully-featured color-space correction, white balance adjustment and channel mixer module.</p>
<p>This simple yet powerful module can be used in the following ways:</p>
<ul>
<li>
<p>To adjust the white balance (<a href="#white-balance-in-the-chromatic-adaptation-transformation-cat-tab">chromatic adaptation</a>), working in tandem with the <a href="/dtdocs/en/module-reference/processing-modules/white-balance/"><em>white balance</em></a> module. Here, the <em>white balance</em> module makes some initial adjustments (required for the <a href="/dtdocs/en/module-reference/processing-modules/demosaic/"><em>demosaic</em></a> module to work effectively), and the <em>color calibration</em> module then calculates a more perceptually-accurate white balance after the input color profile has been applied.</p>
</li>
<li>
<p>As a simple RGB <a href="#channel-mixing">channel mixer</a>, adjusting the R, G and B output channels based on the R, G and B input channels, to perform cross-talk color-grading.</p>
</li>
<li>
<p>To adjust the <a href="#brightness-and-colorfulness-tabs">color saturation and brightness</a> of the image, based on the relative strength of the R, G and B channels of each pixel.</p>
</li>
<li>
<p>To produce a <a href="#gray-tab">grayscale output</a> based on the relative strengths of the R, G and B channels, in a way similar to the response of black and white film to a light spectrum.</p>
</li>
<li>
<p>To improve the color accuracy of the input color profile using a <a href="#extracting-settings-using-a-color-checker">color checker</a> chart.</p>
</li>
</ul>
<h1 id="white-balance-in-the-chromatic-adaptation-transformation-cat-tab"><a href="#white-balance-in-the-chromatic-adaptation-transformation-cat-tab">🔗</a>White Balance in the Chromatic Adaptation Transformation (CAT) tab</h1>
<p>Chromatic adaptation aims to predict how all surfaces in the scene would look if they had been lit by another illuminant. What we actually want to predict, though, is how those surfaces would have looked if they had been lit by the same illuminant as your monitor, in order to make all colors in the scene match the change of illuminant. White balance, on the other hand, aims only at ensuring that whites and grays are really neutral (R = G = B) and doesn’t really care about the rest of the color range. White balance is therefore only a partial chromatic adaptation.</p>
<p>Chromatic adaptation is controlled within the Chromatic Adaptation Transformation (CAT) tab of the <em>color calibration</em> module. When used in this way the <em>white balance</em> module is still required as it needs to perform a basic white balance operation (connected to the input color profile values). This technical white balancing (&ldquo;camera reference&rdquo; mode) is a flat setting that makes grays lit by a standard D65 illuminant look achromatic, and makes the demosaicing process more accurate, but does not perform any perceptual adaptation according to the scene. The actual chromatic adaptation is then performed by the <em>color calibration</em> module, on top of those corrections performed by the <em>white balance</em> and <em>input color profile</em> modules. The use of custom matrices in the <em>input color profile</em> module is therefore discouraged. Additionally, the RGB coefficients in the <em>white balance</em> module need to be accurate in order for this module to work in a predictable way.</p>
<p>The <em>color calibration</em> and <em>white balance</em> modules can be automatically applied to perform chromatic adaptation for new edits by setting the chromatic adaptation workflow option (<a href="/dtdocs/en/preferences-settings/processing/">preferences &gt; processing &gt; auto-apply chromatic adaptation defaults</a>) to &ldquo;modern&rdquo;. If you prefer to perform all white balancing within the <em>white balance</em> module, a &ldquo;legacy&rdquo; option is also provided. Neither option precludes the use of other modules (such as <a href="/dtdocs/en/module-reference/processing-modules/color-balance-rgb/"><em>color balance RGB</em></a>) for creative color grading further along the pixel pipeline.</p>
<p>By default, <em>color calibration</em> performs chromatic adaptation by:</p>
<ul>
<li>reading the RAW file&rsquo;s Exif data to fetch the scene white balance set by the camera,</li>
<li>adjusting this setting using the camera reference white balance from the <em>white balance</em> module,</li>
<li>further adjusting this setting with the input color profile in use (standard matrix only).</li>
</ul>
<p>For consistency, the <em>color calibration</em> module&rsquo;s default settings always assume that the standard matrix is used in the <em>input color profile</em> module &ndash; any non-standard settings in this module are ignored. However, <em>color calibration</em>&rsquo;s defaults can read any auto-applied preset in the <em>white balance</em> module.</p>
<p>It is also worth noting that, unlike the <em>white balance</em> module, <em>color calibration</em> can be used with <a href="/dtdocs/en/darkroom/masking-and-blending/masks/">masks</a>. This means that you can selectively correct different parts of the image to account for differing light sources.</p>
<p>To achieve this, create an instance of the <em>color calibration</em> module to perform global adjustments using a mask to exclude those parts of the image that you wish to handle differently. Then create a second instance of the module reusing the mask from the first instance (inverted) using a <a href="/dtdocs/en/darkroom/masking-and-blending/masks/raster/">raster mask</a>.</p>
<h2 id="cat-tab-workflow"><a href="#cat-tab-workflow">🔗</a>CAT tab workflow</h2>
<p>The default illuminant and color space used by the chromatic adaptation are initialised from the Exif metadata of the RAW file &ldquo;as set in camera&rdquo;.</p>
<p>Alternatively you can use the <a href="/dtdocs/en/darkroom/processing-modules/module-controls/#pickers">picker</a> (to the right of the color patch) to select a neutral color from the image or, if one is unavailable, select the entire image. In this case, the algorithm finds the average color within the chosen area and sets that color as the illuminant. This method relies on the &ldquo;gray-world&rdquo; assumption, which predicts that the average color of a natural scene will be neutral. This method will not work for artificial scenes, for example those with painted surfaces.</p>
<ul>
<li>Select &ldquo;<em>as shot in camera</em>&rdquo; to restore the camera defaults and re-read the RAW Exif.</li>
</ul>
<p>The color patch shows the color of the currently calculated illuminant projected into sRGB space. The aim of the chromatic adaptation algorithm is to turn this color into pure white, which does not necessarily means shifting the image toward its <em>perceptual</em> opponent color. If the illuminant is properly set, the image will be given the same tint as shown in the color patch when the module is disabled.</p>
<p>To the left of the color patch is the <em>CCT</em> (correlated color temperature) approximation. This is the closest temperature, in kelvin, to the illuminant currently in use. In most image processing software it is customary to set the white balance using a combination of temperature and tint. However, when the illuminant is far from daylight, the CCT becomes inaccurate and irrelevant, and the CIE (International Commission on Illumination) discourages its use in such conditions. The CCT reading informs you of the closest CCT match found:</p>
<ul>
<li>When the CCT is followed by &ldquo;<em>(daylight)</em>&rdquo;, this means that the current illuminant is close to an ideal daylight spectrum ± 0.5 %, and the CCT figure is therefore meaningful. In this case, you are advised to use the &ldquo;<em>D (daylight)</em>&rdquo; illuminant.</li>
<li>When the CCT is followed by &ldquo;<em>(black body)</em>&rdquo;, this means that the current illuminant is close to an ideal black body (Planckian) spectrum ± 0.5 %, and the CCT figure is therefore meaningful. In this case, you are advised to use the &ldquo;<em>Planckian (black body)</em>&rdquo; illuminant.</li>
<li>When the CCT is followed by &ldquo;<em>(invalid)</em>&rdquo;, this means that the CCT figure is meaningless and wrong, because we are too far from either a daylight or a black body light spectrum. In this case, you are advised to use the <em>custom</em> illuminant. The chromatic adaptation will still perform as expected (see the note below), so the &ldquo;<em>(invalid)</em>&rdquo; tag only means that the current illuminant color is not accurately tied to the displayed CCT. This tag is nothing to be concerned about &ndash; it is merely there to tell you to stay away from the daylight and planckian illuminants because they will not behave as you might expect.</li>
</ul>
<p>When one of the above illuminant detection methods is used, the module checks where the calculated illuminant sits using the two idealized spectra (daylight and black body) and chooses the most accurate spectrum model to use in its <em>illuminant</em> parameter. The user-interface will change accordingly:</p>
<ul>
<li>A temperature slider will be provided if the detected illuminant is close to a <em>D (daylight)</em> or <em>Planckian (black body)</em> spectrum, for which the CCT is meaningful.</li>
<li>Hue and chroma sliders in CIE 1976 Luv space are offered for the <em>custom</em> illuminant, which allows direct selection of the illuminant color in a perceptual framework without any intermediate assumption.</li>
</ul>
<hr>
<p><strong>Note:</strong> Internally, the illuminant is represented by its absolute chromaticity coordinates in CIE xyY color space. The illuminant selection options in the module are merely interfaces to set up this chromaticity from real-world relationships and are intended to make this process faster. It does not matter to the algorithm if the CCT is tagged &ldquo;invalid&rdquo; &ndash; this just means that the relationship between the CCT and the corresponding xyY coordinates is not physically accurate. Regardless, the color set for the illuminant, as displayed in the patch, will always be honored by the algorithm.</p>
<hr>
<p>When switching from one illuminant to another, the module attempts to translate the previous settings to the new illuminant as accurately as possible. Switching from any illuminant to <em>custom</em> preserves your settings entirely, since the <em>custom</em> illuminant is a general case. Switching between other modes, or from <em>custom</em> to any other mode, will not precisely preserve your settings from the previous mode due to rounding errors.</p>
<p>Other hard-coded <em>illuminants</em> are available (see below). Their values come from standard CIE illuminants and are absolute. You can use them directly if you know exactly what kind of light bulb was used to illuminate the scene and if you trust your camera&rsquo;s input profile and reference (D65) coefficients to be accurate. Otherwise, see <a href="#caveats"><em>caveats</em></a> below.</p>
<h2 id="cat-tab-controls"><a href="#cat-tab-controls">🔗</a>CAT tab controls</h2>
<dl>
<dt>adaptation</dt>
<dd>The working color space in which the module will perform its chromatic adaptation transform and channel mixing. The following options are provided:</dd>
<dd>
<ul>
<li><em>Linear Bradford (1985)</em>: This is accurate for illuminants close to daylight and is compatible with the ICC v4 standard, but produces out-of-gamut colors for more difficult illuminants.</li>
</ul>
</dd>
<dd><ul>
<li><em>CAT16 (2016)</em>: This is the default option and is more robust in avoiding imaginary colors while working with large gamut or saturated cyan and purple. It is more accurate than the Bradford CAT in most cases.</li>
</ul>
</dd>
<dd><ul>
<li><em>Non-linear Bradford (1985)</em>: This can sometimes produce better results than the linear version but is unreliable.</li>
</ul>
</dd>
<dd><ul>
<li><em>XYZ</em>: This is the least accurate method and is generally not recommended except for testing and debugging purposes.</li>
</ul>
</dd>
<dd><ul>
<li><em>none (disable)</em>: Disable any adaptation and use the pipeline working RGB space.</li>
</ul>
</dd>
<dt>illuminant</dt>
<dd>The type of illuminant assumed to have lit the scene. Choose from the following:</dd>
<dd>
<ul>
<li><em>same as pipeline (D50)</em>: Do not perform chromatic adaptation in this module instance but just perform channel mixing, using the selected <em>adaptation</em> color space.</li>
</ul>
</dd>
<dd><ul>
<li><em>CIE standard illuminant</em>: Choose from one of the CIE standard illuminants (daylight, incandescent, fluorescent, equi-energy, or black body), or a non-standard &ldquo;LED light&rdquo; illuminant. These values are all pre-computed &ndash; as long as your camera sensor is properly profiled, you can just use them as-is. For illuminants that lie near the Planckian locus, an additional &ldquo;temperature&rdquo; control is also provided (see below).</li>
</ul>
</dd>
<dd><ul>
<li><em>custom</em>: If a neutral gray patch is available in the image, the color of the illuminant can be selected using the <a href="/dtdocs/en/darkroom/processing-modules/module-controls/#pickers">picker</a>, or can be manually specified using hue and saturation sliders (in LCh perceptual color space). The color swatch next to the picker shows the color of the calculated illuminant used in the CAT compensation.</li>
</ul>
</dd>
<dd><ul>
<li><em>as shot in camera</em>: Calculate the illuminant based on the white balance settings provided by the camera.</li>
</ul>
</dd>
<dt>temperature</dt>
<dd>Adjust the color temperature of the illuminant. Move the slider to the right to assume a more blue illuminant, which will make the white-balanced image appear warmer/more red. Move the slider to the left to assume a more red illuminant, which makes the image appear cooler/more blue after compensation.</dd>
<dd>
<p>This control is only provided for illuminants that lie near the Planckian locus and provides fine-adjustment along that locus. For other illuminants the concept of &ldquo;color temperature&rdquo; doesn&rsquo;t make sense, so no temperature slider is provided.</p>
</dd>
<dt>hue</dt>
<dd>For custom white balance, set the <em>hue</em> of the illuminant color in LCh color space (derived from CIE Luv space).</dd>
<dt>chroma</dt>
<dd>For custom white balance, set the <em>chroma</em> (or saturation) of the illuminant color in LCh color space (derived from CIE Luv space).</dd>
<dt>gamut compression</dt>
<dd>Most camera sensors are slightly sensitive to invisible UV wavelengths, which are recorded on the blue channel and produce &ldquo;imaginary&rdquo; colors. Once corrected by the input color profile, these colors will end up out of gamut (that is, it may no longer be possible to represent certain colors as a valid [R,G,B] triplet with positive values in the working color space) and produce visual artifacts in gradients. The chromatic adaptation may also push other valid colors out of gamut, at the same time pushing any already out-of-gamut colors even further out of gamut.</dd>
<dd><em>Gamut compression</em> uses a perceptual, non-destructive, method to attempt to compress the chroma while preserving the luminance as-is and the hue as close as possible, in order to fit the whole image into the gamut of the pipeline working color space. One example where this feature is very useful is for scenes containing blue LED lights, which are often quite problematic and can result in ugly gamut clipping in the final image.</dd>
<dt>clip negative RGB from gamut</dt>
<dd>Remove any negative RGB values (set them to zero). This helps to deal with bad black level as well as the blue channel clipping issues that may occur with blue LED lights. This option is destructive for color (it may change the hue) but ensures a valid RGB output no matter what. It should never be disabled unless you want to take care of the gamut mapping manually and understand what you are doing. In that case, use the <em>black level correction</em> in the <em>exposure</em> module to get rid of any negative RGB (RGB means light, which is energy, and which should always be a positive quantity), then increase the <em>gamut compression</em> until no solid black patches remain in the image. Proper denoising may help getting rid of odd RGB values too. Note that this approach may still be insufficient to recover some deep and luminous shades of blue.</dd>
</dl>
<hr>
<p><strong>Note 1</strong>: It has been reported that some OpenCL drivers don&rsquo;t play well when negative RGB values are present in the pixel pipeline, because many pixel operators use logarithms and power functions (<em>filmic</em>, <em>color balance</em>, all the CIE Lab &lt;-&gt; CIE XYZ color space conversions), which are not defined for negative numbers. Although the inputs are sanitized before sensitive operations, it is not enough for some OpenCL drivers, which will output isolated <code>NaN</code> (Not a Number) values. These <code>NaN</code> values may be subsequently spread by local filters (blurring and sharpening operations, like <em>sharpness</em>, <em>local contrast</em>, <em>contrast equalizer</em>, <em>low pass</em>, <em>high pass</em>, <em>surface blur</em>, and <em>filmic</em> highlights reconstruction), resulting in large black, gray or white squares.</p>
<p>In all these cases, you <strong>must</strong> enable the &ldquo;clip negative RGB from gamut&rdquo; option in the <em>color calibration</em> module.</p>
<p><strong>Note 2</strong>: A common case for failure of the color algorithms in <em>color calibration</em> (especially the gamut compression) is pixels that have a luminance value of 0 (Y channel of the CIE 1931 XYZ space), but non-zero chromaticity values (X and Z channels of the CIE 1931 XYZ space). This case is a numerical oddity that matches no physical reality (a pixel with no luminance should have no chromaticity either), will produce a division by zero in xyY and Yuv color spaces, and will create <code>NaN</code> RGB values as a result. This issue is <strong>not</strong> corrected inside <em>color calibration</em> because it is a symptom of a bad input profiling and/or a bad black point level, and needs to be addressed manually either by adjusting the input color profile with the channel mixer or in the <em>exposure</em> module&rsquo;s <em>black level correction</em>.</p>
<hr>
<h2 id="cat-warnings"><a href="#cat-warnings">🔗</a>CAT warnings</h2>
<p>The chromatic adaptation in this module relies on a number of assumptions about the earlier processing steps in the pipeline in order to work correctly, and it can be easy to inadvertently break those assumptions in subtle ways. To help you to avoid these kinds of mistakes, the <em>color calibration</em> module will show warnings in the following circumstances.</p>
<ul>
<li>
<p>If the <em>color calibration</em> module is set up to perform chromatic adaptation but the <em>white balance</em> module is not set to &ldquo;camera reference&rdquo;, warnings will be shown in both modules. These errors can be resolved either by setting the <em>white balance</em> module to &ldquo;camera reference&rdquo; or by disabling chromatic adaptation in the <em>color calibration</em> module. Note that some sensors may require minor corrections within the <em>white balance</em> module in which case these warnings can be ignored.</p>
</li>
<li>
<p>If two or more instances of <em>color calibration</em> have been created, each attempting to perform chromatic adaptation, an error will be shown on the second instance. This could be a valid use case (for instance where masks have been set up to apply different white balances to different non-overlapping areas of the image) in which case the warnings can be ignored. For most other cases, chromatic adaptation should be disabled in one of the instances to avoid double-corrections.</p>
<p>By default, if an instance of the <em>color calibration</em> module is already performing chromatic adaptation, each new instance you create will automatically have its adaptation set to &ldquo;none (bypass)&rdquo; to avoid this &ldquo;double-correction&rdquo; error.</p>
</li>
</ul>
<p>The chromatic adaptation modes in <em>color calibration</em> can be disabled by either setting the <em>adaptation</em> to &ldquo;none (bypass)&rdquo; or setting the <em>illuminant</em> to &ldquo;same as pipeline (D50)&rdquo; in the CAT tab.</p>
<p>These warnings are intended to prevent common and easy mistakes while using the automatic default presets in the module in a typical RAW editing workflow. When using custom presets and some specific workflows, such as editing film scans or JPEGs, these warnings can and should be ignored.</p>
<p>Advanced users can disable module warnings in <a href="/dtdocs/en/preferences-settings/processing/">preferences &gt; processing &gt; show warning messages</a>.</p>
<h1 id="channel-mixing"><a href="#channel-mixing">🔗</a>channel mixing</h1>
<p>The remainder of this module is a standard channel mixer, allowing you to adjust the output R, G, B, colorfulness, brightness and gray of the module based on the relative strengths of the R, G and B input channels.</p>
<p>Channel mixing is performed in the color space defined by the <em>adaptation</em> control on the <a href="#cat-tab-controls">CAT tab</a>. For all practical purposes, these CAT spaces are particular RGB spaces tied to human physiology and proportional to the light emissions in the scene, but they still behave in the same way as any other RGB space. The use of any of the CAT spaces can make the channel mixer tuning process easier, due to their connection with human physiology, but it is also possible to mix channels in the RGB working space of the pipeline by setting the <em>adaptation</em> to &ldquo;none (bypass)&rdquo;. To perform channel mixing in one of the <em>adaptation</em> color spaces without chromatic adaptation, set the <em>illuminant</em> to &ldquo;same as pipeline (D50)&rdquo;.</p>
<hr>
<p><strong>Note</strong>: The actual colors of the CAT or RGB primaries used for the channel mixing, projected to sRGB display space, are painted in the background of the RGB sliders, so you can get a sense of the color shift that will result from your altered settings.</p>
<hr>
<p>Channel mixing is a process that defines a boosting/muting factor for each channel as a ratio of all the original channels. Instead of entering a single flat correction that ties the output value of a channel to its input value (for example, <code>R_output = R_input × correction</code>), the correction to each channel is dependent on the input of <em>all</em> of the channels for each pixel (for example, <code>R_output = R_input × R_correction + G_input × G_correction + B_input × B_correction</code>). Thus a pixel&rsquo;s channels contribute to each other (a process known as &ldquo;cross-talk&rdquo;) which is equivalent to rotating the primary colors of the color space in 3D. This is, in effect, digital simulation of physical color filters.</p>
<p>Although rotating primary colors in 3D is ultimately equivalent to applying a general hue rotation, the connection between the RGB corrections and the resulting perceptual hue rotation is not directly predictable, which makes the process non-intuitive. &ldquo;R&rdquo;, &ldquo;G&rdquo; and &ldquo;B&rdquo; should be taken as a mixture of 3 lights that we dial up and down, not as a set of colors or hues. Also, since RGB tristimulus does not decouple luminance and chrominance, but is an additive lighting setup, the &ldquo;G&rdquo; channel is more strongly tied to human luminance perception than the &ldquo;R&rdquo; and &ldquo;B&rdquo; ones. All pixels have a non-zero G channel, which implies that any correction to the G channel is likely to affect all pixels.</p>
<p>The channel mixing process is therefore tied to a physical interpretation of the RGB tristimulus (as additive lights), which makes it well-suited for primary color grading and illuminant corrections, and blends the color changes smoothly. However, trying to understand and predict it from a perceptual point of view (luminance, hue and saturation) is going to fail and is discouraged.</p>
<hr>
<p><strong>Note</strong>: The &ldquo;R&rdquo;, &ldquo;G&rdquo; and &ldquo;B&rdquo; labels on the channels of the color spaces in this module are merely conventions formed out of habit. These channels do not necessarily look &ldquo;red&rdquo;, &ldquo;green&rdquo; and &ldquo;blue&rdquo;, and users are advised against trying to make sense out of them based on their names. This is a general principle that applies to <em>any</em> RGB space used in any application.</p>
<hr>
<h1 id="r-g-and-b-tabs"><a href="#r-g-and-b-tabs">🔗</a>R, G and B tabs</h1>
<p>At its most basic level, you can think of the R, G and B tabs of the <em>color calibration</em> module as a type of matrix multiplication between a 3x3 matrix and the input [R G B] values. This is in fact very similar to what a matrix-based ICC color profile does, except that the user can input the matrix coefficients via the darktable GUI rather than reading the coefficients from an ICC profile file.</p>
<pre tabindex="0"><code>┌ R_out ┐     ┌ Rr Rg Rb ┐     ┌ R_in ┐
│ G_out │  =  │ Gr Gg Gb │  X  │ G_in │
└ B_out ┘     └ Br Bg Bb ┘     └ B_in ┘
</code></pre><p>If, for example, you&rsquo;ve been provided with a matrix to transform from one color space to another, you can enter the matrix coefficients into the <em>channel mixer</em> as follows:</p>
<ul>
<li>select the <em>R</em> tab and then set the Rr, Rg &amp; Rb values using the R, G and B input sliders</li>
<li>select the <em>G</em> tab and then set the Gr, Gg &amp; Gb values using the R, G and B input sliders</li>
<li>select the <em>B</em> tab and then set the Br, Bg &amp; Bb values using the R, G and B input sliders</li>
</ul>
<p>By default, the mixing function in <em>color calibration</em> just copies the input [R G B] channels straight over to the matching output channels. This is equivalent to multiplying by the identity matrix:</p>
<pre tabindex="0"><code>┌ R_out ┐     ┌ 1  0  0 ┐      ┌ R_in ┐
│ G_out │  =  │ 0  1  0 │   X  │ G_in │
└ B_out ┘     └ 0  0  1 ┘      └ B_in ┘
</code></pre><p>For a more intuitive understanding of how the mixing sliders on the R, G and B tabs behave, consider the following:</p>
<ul>
<li>for the <em>R</em> destination channel, adjusting sliders to the right will make the R, G or B areas of the image more &ldquo;red&rdquo;. Moving the slider to the left will make those areas more &ldquo;cyan&rdquo;.</li>
<li>for the <em>G</em> destination channel, adjusting sliders to the right will make the R, G or B areas of the image more &ldquo;green&rdquo;. Moving the slider to the left will make those areas more &ldquo;magenta&rdquo;.</li>
<li>for the <em>B</em> destination channel, adjusting sliders to the right will make the R, G or B areas of the image more &ldquo;blue&rdquo;. Moving the slider to the left will make those areas more &ldquo;yellow&rdquo;.</li>
</ul>
<h2 id="r-g-and-b-tab-controls"><a href="#r-g-and-b-tab-controls">🔗</a>R, G and B tab controls</h2>
<p>The following controls are shown for each of the R, G and B tabs:</p>
<dl>
<dt>input R/G/B</dt>
<dd>Choose how much the input R, G and B channels influence the output channel relating to the tab concerned.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to normalize the coefficients to try to preserve the overall brightness of this channel in the final image as compared to the input image.</dd>
</dl>
<h1 id="brightness-and-colorfulness-tabs"><a href="#brightness-and-colorfulness-tabs">🔗</a>brightness and colorfulness tabs</h1>
<p>The brightness and colorfulness (color saturation) of pixels in an image can also be adjusted based on the R, G and B input channels. This uses the same basic algorithm that the <a href="/dtdocs/en/module-reference/processing-modules/filmic-rgb/"><em>filmic rgb</em></a> module uses for tone mapping (which preserves RGB ratios) and for mid-tones saturation (which massages them).</p>
<dl>
<dt>saturation algorithm</dt>
<dd>This control allows you to upgrade the saturation algorithm to the new 2021 version, for edits produced prior to darktable 3.6 &ndash; it will not appear for edits that already use the latest version.</dd>
</dl>
<h2 id="colorfulness-tab-controls"><a href="#colorfulness-tab-controls">🔗</a>colorfulness tab controls</h2>
<dl>
<dt>input R/G/B</dt>
<dd>Adjust the color saturation of pixels, based on the R, G and B channels of those pixels. For example, adjusting the <em>input R</em> slider will affect the color saturation of pixels containing a lot of &ldquo;R&rdquo; more than pixels containing only a small amount of &ldquo;R&rdquo;.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to try to keep the overall saturation constant between the input and output images.</dd>
</dl>
<h2 id="brightness-tab-controls"><a href="#brightness-tab-controls">🔗</a>brightness tab controls</h2>
<dl>
<dt>input R/G/B</dt>
<dd>Adjust the brightness of certain colors in the image, based on the R, G and B channels of those colors. For example, adjusting the <em>input R</em> slider will affect the brightness of colors containing a lot of R channel much more than colors containing only a small amount of R channel. When darkening/brightening a pixel, the ratio of the R, G and B channels for that pixel is maintained, in order to preserve the hue.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to try to keep the overall brightness constant between the input and output images.</dd>
</dl>
<h1 id="gray-tab"><a href="#gray-tab">🔗</a>gray tab</h1>
<p>Another very useful application of <em>color calibration</em> is the ability to mix the channels together to produce a grayscale output &ndash; a monochrome image. Select the <em>gray</em> tab, and set the R, G and B sliders to control how much each channel contributes to the brightness of the output. This is equivalent to the following matrix multiplication:</p>
<pre tabindex="0"><code>GRAY_out  =   [ r  g  b ]  X  ┌ R_in ┐
                              │ G_in │
                              └ B_in ┘
</code></pre><p>When dealing with skin tones, the relative weights of the three channels will affect the level of detail in the image. Placing more weight on R (e.g. [0.9, 0.3, -0.3]) will make for smooth skin tones, whereas emphasising G (e.g. [0.4, 0.75, -0.15]) will bring out more detail. In both cases the B channel is reduced to avoid emphasising unwanted skin texture.</p>
<h2 id="gray-tab-controls"><a href="#gray-tab-controls">🔗</a>gray tab controls</h2>
<dl>
<dt>input R/G/B</dt>
<dd>Choose how much each of the R, G and B channels contribute to the gray level of the output. The image will only be converted to monochrome if the three sliders add up to some non-zero value. Adding more B will tend to bring out more details, adding more R will tend to smooth skin tones.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to try to keep the overall brightness constant as the sliders are adjusted.</dd>
</dl>
<h1 id="area-color-mapping"><a href="#area-color-mapping">🔗</a>area color mapping</h1>
<p>The area mapping feature is designed to help with <a href="/dtdocs/en/guides-tutorials/batch-editing/">batch-editing</a> a series of images in an efficient way. In this scenario, you typically develop a single reference image for the whole batch and then copy&amp;paste the development stack to all of the other images in the batch.</p>
<p>Unfortunately, the color temperature of the illuminating light often changes slightly between shots, even within the same series captured in the same conditions. This can be the result of a cloud passing by the sun in natural light, or a different ratio between colored bounce light and main light. Each image will still need some individual fine-tuning if you want a perfectly even look over the whole series, and this can be both time-consuming and frustrating.</p>
<p>Area color mapping allows you to define a target chromaticity (hue and chroma) for a particular region of the image (the control sample), which you then match against the same target chromaticity in other images. The control sample can either be a critical part of your subject that needs to have constant color, or a non-moving and consistently-lit surface over your series of images.</p>
<p>The mapping process consists of two steps.</p>
<h2 id="step-1set-the-target"><a href="#step-1set-the-target">🔗</a>step 1: set the target</h2>
<p>There are two ways of setting the target chromaticity for your control sample:</p>
<ol>
<li>if you know or expect an arbitrary color for the control sample (for example, a gray card, a color chart, a product or a logo of a specified color), you can set its L, h and c values directly, in Lch derived from CIE Lab 1976 space,</li>
<li>if you simply want to match the development of your reference image, set the <em>area mode</em> to <em>measure</em>, then enable the <a href="/dtdocs/en/darkroom/processing-modules/module-controls/#pickers">picker</a> (to the right of the color patch) and draw a rectangle over your control sample. The <em>input</em> column will then be updated with the L, h, c values of the control sample before the color correction, and the <em>target</em> column will show the resulting L, h, c values of the control sample after the current calibration setting is applied.</li>
</ol>
<p>If you reset the L, h, c values, the default value is a neutral color at 50% lightness (middle-gray) &ndash; this can be useful to quickly set the average white balance of any image. If you want to match the control sample against neutral gray, you only need to reset the chroma slider because the lightness and hue settings have no effect on chromaticity for neutral grays.</p>
<p>Note that the target value is not reset when you reset the module itself, but is stored indefinitely in darktable&rsquo;s configuration and will be available on next launch as well as for the next image you develop. Additionally, the position of the selected rectangle is also stored for ease of use when applying the picked correction value to multiple similar images (see below under &ldquo;match the target&rdquo;), though you may redraw the rectangle if the position of the target object changes between images.</p>
<p>The <em>take channel mixing into account</em> option lets you choose where the target is sampled. If disabled, the target color is measured immediately after the <em>CAT</em> (Chromatic Adaptation Transform) step, which takes place before any channel mixing. This means that if you have a calibrated profile in effect within the channel mixer, this profile will be discarded. If enabled, the target color is measured after the <em>CAT</em> and the channel mixing steps, including any calibrated profile. This is the recommended option for most use cases.</p>
<hr>
<p><strong>Note</strong>: If you are defining your target from a gray patch, you should know that the gray patch on color checkers is never entirely neutral. For example, Datacolor Spyder has a slightly warm gray (hue = 20°, chroma = 1.2) while X-Rite pre-2014 has a colder but more neutral gray (hue = 240°, chroma = 0.3) and X-Rite post-2014 is almost perfectly neutral (hue = 133°, chroma = 0.2). In general, it is not desirable to match the control sample against a perfectly neutral gray target, and it is actually wrong to do so when using gray cards and color checkers as a control sample.</p>
<hr>
<h2 id="step-2-match-the-target"><a href="#step-2-match-the-target">🔗</a>step 2 : match the target</h2>
<p>When you open a new image, the <em>area mode</em> is automatically reset to <em>correction</em>. Using the <a href="/dtdocs/en/darkroom/processing-modules/module-controls/#pickers">picker</a> attached to the color patch, you can then directly reselect your control sample in the new image. The proper illuminant settings required for the control sample to match the memorized target chromaticity will be automatically computed, and the setting will be updated in the same operation.</p>
<p>The <em>take channel mixing into account</em> option will need to be set the same as when the measurement of the target was performed to ensure consistent results. Note that the target matching only defines the illuminant settings used in the Chromatic Adaptation Transform &ndash; it does not alter the channel mixer settings, since the calibration is handled in the color checker calibration tool. However, the channel mixer settings can be used or discarded in the computation of the illuminant settings, depending on this option.</p>
<p>This operation can be repeated as many times as you have images in your series with no further work.</p>
<h2 id="step-3deactivate-color-mapping"><a href="#step-3deactivate-color-mapping">🔗</a>step 3: deactivate color mapping</h2>
<p>The settings you configured in <em>step 1</em> are &ldquo;sticky&rdquo; &ndash; they will stay active until you manually turn them off by resetting <em>lightness</em> to 50 and <em>chroma</em> to 0. Until then, <em>every</em> time you use this module (even after closing and restarting darktable), those settings will affect the results of an auto-whitebalance operation. To remind you that color mapping is active, especially while the section is collapsed, the heading will change from &ldquo;area color mapping&rdquo; to &ldquo;area color mapping (active)&rdquo; whenever <em>chroma</em> is nonzero or <em>lightness</em> is other than 50.</p>
<hr>
<p><strong>Note:</strong> Perfectly matching your control sample against the target chromaticity may still not yield a similar perceptual result, even if the numbers are exactly the same. The ratio of lightness between the control sample and its surrounding, as well as the color contrasts at play in the frame, will alter the perception of colors in ways that are very difficult to model. To build an intuition of this problem, see the <a href="https://www.sciencealert.com/in-spite-of-what-your-eyes-tell-you-these-strawberries-aren-t-red" target="_blank">gray strawberries illusion</a>.</p>
<hr>
<h1 id="extracting-settings-using-a-color-checker"><a href="#extracting-settings-using-a-color-checker">🔗</a>extracting settings using a color checker</h1>
<p>Since the channel mixer is essentially an RGB matrix (similar to the <a href="/dtdocs/en/module-reference/processing-modules/input-color-profile/"><em>input color profile</em></a> used for RAW images) it can be used to improve the color accuracy of the input color profile by computing ad-hoc color calibration settings.</p>
<p>These computed settings aim to minimize the color difference between the scene reference and the camera recording in a given lighting situation. This is equivalent to creating a generic ICC color profile but here, the profile is instead stored as module settings that can be saved as presets or styles, to be shared and reused between images. Such profiles are meant to complement and refine the generic input profile but do not replace it.</p>
<p>This feature can assist with:</p>
<ul>
<li>handling difficult illuminants, such as low <a href="https://en.wikipedia.org/wiki/Color_rendering_index" target="_blank">CRI</a> light bulbs, for which a mere white balancing will never suffice,</li>
<li>digitizing artworks or commercial products where an accurate rendition of the original colors is required,</li>
<li>neutralizing a number of different cameras to the same ground-truth, in multi-camera photo sessions, in order to obtain a consistent base look and share the color editing settings with a consistent final look,</li>
<li>obtaining a sane color pipeline from the start, nailing white balance and removing any bounced-light color cast at once, with minimal effort and time.</li>
</ul>
<h2 id="supported-color-checker-targets"><a href="#supported-color-checker-targets">🔗</a>supported color checker targets</h2>
<p>Users are not currently permitted to use custom targets, but a limited number of verified color checkers (from reputable manufacturers) are supported:</p>
<ul>
<li>X-Rite / Gretag MacBeth Color Checker 24 (pre- and post-2014),</li>
<li>Datacolor SpyderCheckr 24 (pre- and post-2018),</li>
<li>Datacolor SpyderCheckr 48 (pre- and post-2018),</li>
<li>Datacolor SpyderCheckr Photo.</li>
</ul>
<p>Users are discouraged from obtaining cheap, off-brand, color targets as color constancy between batches cannot possibly be asserted at such prices. Inaccurate color checkers will only defeat the purpose of color calibration and possibly make things worse.</p>
<p>IT7 and IT8 charts are not supported since they are hardly portable and not practical for use on-location for ad-hoc profiles. These charts are better suited for creating generic color profiles, undertaken using a standard illuminant, for example with <a href="https://encrypted.pcode.nl/blog/index.html%3Fp=594.html" target="_blank">Argyll CMS</a>.</p>
<hr>
<p><strong>Note</strong>: X-Rite changed the formula of their pigments in 2014 and Datacolor in 2018, which slightly altered the color of the patches. Both formulas are supported in darktable, but you should be careful to choose the correct reference for your target. If in doubt, try both and choose the one that yields the lowest average delta E after calibration.</p>
<hr>
<h2 id="prerequisites"><a href="#prerequisites">🔗</a>prerequisites</h2>
<p>In order to use this feature you will need to take a test shot of a supported color checker chart, on-location, under appropriate lighting conditions:</p>
<ul>
<li>frame the chart in the center 50% of the camera&rsquo;s field, to ensure that the image is free of vignetting,</li>
<li>ensure that the main light source is far enough from the chart to give an even lighting field over the surface of the chart,</li>
<li>adjust the angle between the light, chart and lens to prevent reflections and gloss on the color patches,</li>
<li>for the best quality profile you should capture an image with the appropriate brightness. To achieve this, take a few bracketed images (between -1 and +1 EV) of your color checker and load them into darktable, ensuring that all modules between <em>color calibration</em> and <em>output color profile</em> are disabled. Choose the image where the white patch has a brightness L of 94-96% in CIE Lab space or a luminance Y of 83-88% in CIE XYZ space (use the <a href="/dtdocs/en/module-reference/utility-modules/darkroom/global-color-picker/">global color picker</a>). This step is not strictly necessary &ndash; alternatively you can take a single image and apply the exposure compensation as recommended in the profile report.</li>
</ul>
<p>If the lighting conditions are close to a standard D50 to D65 illuminant (direct natural light, no colored bounced light), the color checker shot can be used to produce a generic profile that will be suitable for any daylight illuminant with only a slight adjustment of the white balance.</p>
<p>If the lighting conditions are peculiar and far from standard illuminants, the color checker shot will be only usable as an ad-hoc profile for images taken in the same lighting conditions.</p>
<h2 id="usage"><a href="#usage">🔗</a>usage</h2>
<p>The settings used in color calibration depend on the chosen CAT space and on any color settings defined earlier in the pipe within the <em>white balance</em> and <em>input color profile</em> modules. As such, the results of the profiling (e.g. the RGB channel mixing coefficients) are valid only for a rigid set of <em>CAT space</em>, <em>white balance</em> and <em>input color profile</em> settings. If you wish to create a generic style with your profile, don&rsquo;t forget that you will need to include the settings from these modules as well.</p>
<p>Use the following process to create your profile preset/style:</p>
<ol>
<li>Enable the <a href="/dtdocs/en/module-reference/processing-modules/lens-correction/"><em>lens correction</em></a> module to correct any vignetting that might mislead the calibration,</li>
<li>On the bottom of the <em>color calibration</em> module, click on the arrow near the <em>calibrate with a color checker</em> label, to show the controls,</li>
<li>Pick the correct model and manufacturer of your color checker from the <em>chart</em> drop-down,</li>
<li>In the image preview, an overlay of the chart&rsquo;s patches will appear. Drag the corners of the chart so that they match the visual references (dots or crosses) around the target, to compensate for any perspective distortion,</li>
<li>Click the <em>refresh</em> button to compute the profile,</li>
<li>Check the <em>Profile quality report</em>. If it is &ldquo;good&rdquo;, you can click on the <em>validation</em> button. If not, try changing the optimization strategy and refresh the profile again.</li>
<li>Save the profile in a preset or style, or simply copy &amp; paste the module settings to all of the images taken under the same lighting conditions, from within the lighttable view or filmstrip.</li>
</ol>
<hr>
<p><strong>Note:</strong> You don&rsquo;t <em>need</em> to use the standard matrix in the <em>input color profile</em> module when performing a calibration, but be aware that the &ldquo;as shot in camera&rdquo; default white balance will not work properly with any other profile, and that you will need to always use the same input profile whenever you reuse such calibration settings.</p>
<hr>
<h2 id="reading-the-profile-report"><a href="#reading-the-profile-report">🔗</a>reading the profile report</h2>
<p>The profile report helps you to assess the quality of the calibration. The settings in color calibration are only a &ldquo;best fit&rdquo; optimization and will never be 100% accurate for the whole color spectrum. We therefore need to track &ldquo;how inaccurate&rdquo; it is in order to know whether we can trust this profile or not.</p>
<p>Bad profiles can happen and will do more harm than good if used.</p>
<h3 id="delta-e-and-the-quality-report"><a href="#delta-e-and-the-quality-report">🔗</a>delta E and the quality report</h3>
<p>The <a href="https://en.wikipedia.org/wiki/Color_difference#CIEDE2000" target="_blank">CIE delta E 2000</a> (ΔE) is used as a perceptual metric of the error between the reference color of the patches and the color obtained after each step of calibration:</p>
<ul>
<li>ΔE = 0 means that there is no error &ndash; the obtained color is exactly the reference color. Unfortunately, this will never happen in practice.</li>
<li>ΔE = 2.3 is defined as the Just Noticeable Difference (JND).</li>
<li>ΔE &lt; 2.3 means that the average observer will not be able to tell the difference between the expected reference color and the obtained color. This is a satisfactory result.</li>
<li>ΔE &gt; 2.3 means that the color difference between the expected reference and the obtained color is noticeable for the average observer. This is unsatisfactory but sometimes unavoidable.</li>
</ul>
<p>The quality report tracks the average and maximum ΔE at the input of the module (before anything is done), after the chromatic adaptation step (white balance only), and at the output of the module (white balance and channel mixing). At each step, the ΔE should be lower than at the previous step, if everything goes as planned.</p>
<h3 id="profile-data"><a href="#profile-data">🔗</a>profile data</h3>
<p>The data generated by the profiling process comprises the RGB 3×3 matrix and the detected illuminant. These are expressed in the CAT <em>adaptation</em> space defined in the <em>CAT</em> tab and are provided in case you want to export these coefficients to other software. If the detected illuminant is <em>daylight</em> or <em>black body</em>, the matrix should be fairly generic and reusable for other <em>daylight</em> and <em>black body</em> illuminants with the addition of a small white balance adjustment.</p>
<h3 id="normalization-values"><a href="#normalization-values">🔗</a>normalization values</h3>
<p>These are the settings that you should define, as-is, for the <em>exposure</em> and <em>black level correction</em> parameters in the <a href="/dtdocs/en/module-reference/processing-modules/exposure/"><em>exposure</em></a> module, in order to obtain the lowest possible error in your profile. This step is optional and is useful only when the utmost precision is required, but beware that it can produce negative RGB values that will be clipped at various points in the pipeline.</p>
<h3 id="overlay"><a href="#overlay">🔗</a>overlay</h3>
<p>








<a href="/dtdocs/en/module-reference/processing-modules/color-calibration/color-checker.png" target="_blank" rel="noopener noreferrer"><img src="/dtdocs/en/module-reference/processing-modules/color-calibration/color-checker.png" alt="color checker"  class="w75"    /></a>

</p>
<p>The chart overlay displays a disc in the center of each color patch, which represents the expected reference value of that patch, projected into the display RGB space. This helps you to visually assess the difference between the reference and the actual color without having to bother with ΔE values. This visual clue will be reliable only if you set the <em>exposure</em> module as instructed in the <em>normalization values</em> of the profile report.</p>
<p>Once the profile has been calibrated, some of the square patches will be crossed in the background by one or two diagonals:</p>
<ul>
<li>patches that are not crossed have ΔE &lt; 2.3 (JND), meaning they are accurate enough that the average observer will be unable to notice the deviation,</li>
<li>patches crossed with one diagonal have 2.3 &lt; ΔE &lt; 4.6, meaning that they are mildly inaccurate,</li>
<li>patches crossed with two diagonals have ΔE &gt; 4.6 (2 × JND), meaning that they are highly inaccurate.</li>
</ul>
<p>This visual feedback will help you to set up the optimization trade-off to check which colors are more or less accurate.</p>
<h2 id="enhancing-the-profile"><a href="#enhancing-the-profile">🔗</a>enhancing the profile</h2>
<p>Because any calibration is merely a &ldquo;best fit&rdquo; optimization (using a weighted least-squares method) it is impossible to have all patches within our ΔE &lt; 2.3 tolerance. Some compromise will therefore be required.</p>
<p>The <em>optimize for</em> parameter allows you to define an optimization strategy that attempts to increase the profile accuracy in some colors at the expense of others. The following options are available:</p>
<ul>
<li><em>none</em>: Don&rsquo;t use an explicit strategy but rely on the implicit strategy defined by the color checker manufacturer. For example, if the color checker has mostly low-saturation patches, the profile will be more accurate for less-saturated colors.</li>
<li><em>neutral colors</em>: Give priority to grays and less-saturated colors. This is useful for desperate cases involving cheap fluorescent and LED lightings, having low CRI. However, it may increase the error in highly-saturated colors more than not having any profile.</li>
<li><em>saturated colors</em>: Give priority to primary colors and highly-saturated colors. This is useful in product and commercial photography, to get brand colors right.</li>
<li><em>skin and soil colors</em>, <em>foliage colors</em>, <em>sky and water colors</em>: Give priority to the chosen hue range. This is useful if the subject of your images is clearly defined and has a typical color.</li>
<li><em>average delta E</em>: Attempt to make the color error uniform across the color range and minimize the average perceptual error. This is useful for generic profiles.</li>
<li><em>maximum delta E</em>: Attempt to minimize outliers and large errors, at the expense of the average error. This can be useful to get highly saturated blues back into line.</li>
</ul>
<p>No matter what you do, strategies that favor a low average ΔE will usually have a higher maximum ΔE, and vice versa. Also, blues are always the more challenging color range to get correct, so the calibration usually falls back to protecting blues at the expense of everything else, or everything else at the expense of blues.</p>
<p>The ease of obtaining a proper calibration depends on the quality of the scene illuminant (daylight and high CRI illuminants should always be preferred), the quality of the primary <em>input color profile</em>, the <em>black point compensation</em> set in the <em>exposure</em> module, but first and foremost on the mathematical properties of the camera sensor&rsquo;s filter array.</p>
<h2 id="profile-checking"><a href="#profile-checking">🔗</a>profile checking</h2>
<p>It is possible to use the <em>color space check</em> button (first on the left, at the bottom of the module) to perform a single ΔE computation of the color checker reference against the output of the <em>color calibration</em> module. This can be used in the following ways:</p>
<ol>
<li>To check the accuracy of a profile calculated in particular conditions against a color checker shot in different conditions.</li>
<li>To evaluate the performance of any color correction performed earlier in the pipe, by setting the <em>color calibration</em> parameters to values that effectively disable it (CAT <em>adaptation</em> to <em>none</em>, everything else set to default), and just use the average ΔE as a performance metric.</li>
</ol>
<h1 id="caveats"><a href="#caveats">🔗</a>caveats</h1>
<p>The ability to use standard CIE illuminants and CCT-based interfaces to define the illuminant color depends on sound default values for the standard matrix in the <em>input color profile</em> module as well as reasonable RGB coefficients in the <em>white balance</em> module.</p>
<p>Some cameras, most notably those from Olympus and Sony, have unexpected white balance coefficients that will always make the detected CCT invalid even for legitimate daylight scene illuminants. This error most likely comes from issues with the standard input matrix, which is taken from the Adobe DNG Converter.</p>
<p>It is possible to alleviate this issue, if you have a computer screen calibrated for a D65 illuminant, using the following process:</p>
<ol>
<li>Display a white surface on your screen, for example by opening a blank canvas in any photo editing software you like</li>
<li>Take a blurry (out of focus) image of that surface with your camera, ensuring that you don&rsquo;t have any &ldquo;parasite&rdquo; light in the frame, you have no clipping, and are using an aperture between f/5.6 and f/8,</li>
<li>Open the image in darktable and extract the white balance by using the <a href="/dtdocs/en/darkroom/processing-modules/module-controls/#pickers">picker</a> tool in the <em>white balance</em> module on the center area of the image (non-central regions might be subject to chromatic aberrations). This will generate a set of 3 RGB coefficients.</li>
<li><a href="/dtdocs/en/darkroom/processing-modules/presets/#creating-and-editing-presets">Save a preset</a> for the <em>white balance</em> module with these coefficients and auto-apply it to any color RAW image created by the same camera.</li>
</ol>


    
</article>

<div class="prev-next row">
    <div class="col-6">
    
	<a href="/dtdocs/en/module-reference/processing-modules/color-balance-rgb/" class="next">&lt; color balance rgb</a>
	
    </div>
    <div class="col-6">
    
	<a href="/dtdocs/en/module-reference/processing-modules/color-contrast/" class="prev">color contrast &gt;</a>
	
    </div>
</div>



      </div>
		<nav class="navigation col-sm-12 order-sm-12 col-md-3 order-md-1">
		    <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/overview/" class="">
          Overview
      </a>

   <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/overview/user-interface/" class="">
          user interface
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/user-interface/views/" class="">
          views
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/user-interface/screen-layout/" class="">
          screen layout
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/user-interface/filmstrip/" class="">
          filmstrip
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/user-interface/top-panel/" class="">
          top panel
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/user-interface/keyboard-shortcuts/" class="">
          keyboard shortcuts
      </a>

   </li>
   </ul>
   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/supported-file-formats/" class="">
          supported file formats
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/overview/sidecar-files/" class="">
          sidecar files &amp; non-destructive editing
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/sidecar-files/sidecar/" class="">
          sidecar files
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/sidecar-files/sidecar-import/" class="">
          importing sidecar files generated by other applications
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/sidecar-files/local-copies/" class="">
          local copies
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/overview/workflow/" class="">
          an introduction to darktable&#39;s workflow
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/workflow/introduction/" class="">
          introduction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/workflow/import-review/" class="">
          import &amp; review
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/workflow/process/" class="">
          process
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/overview/workflow/export/" class="">
          export
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/lighttable/" class="">
          Lighttable
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/lighttable-view-layout/" class="">
          lighttable view layout
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/undo-redo/" class="">
          undo/redo
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/lighttable/lighttable-modes/" class="">
          lighttable modes
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/lighttable-modes/filemanager/" class="">
          filemanager
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/lighttable-modes/zoomable-lighttable/" class="">
          zoomable lighttable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/lighttable-modes/culling/" class="">
          culling
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/lighttable-modes/full-preview/" class="">
          full preview
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/lighttable/digital-asset-management/" class="">
          digital asset management
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/digital-asset-management/collections/" class="">
          collections &amp; film rolls
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/digital-asset-management/thumbnails/" class="">
          thumbnails
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/digital-asset-management/star-color/" class="">
          star ratings &amp; color labels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/digital-asset-management/grouping/" class="">
          image grouping
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lighttable/digital-asset-management/metadata-tagging/" class="">
          metadata and tagging
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/darkroom/" class="">
          Darkroom
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/darkroom-view-layout/" class="">
          darkroom view layout
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/darkroom/pixelpipe/" class="">
          the pixelpipe
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/pixelpipe/the-anatomy-of-a-module/" class="">
          the anatomy of a processing module
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/pixelpipe/the-pixelpipe-and-module-order/" class="">
          the pixelpipe &amp; module order
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/pixelpipe/history-stack/" class="">
          the history stack
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/pixelpipe/undo-redo/" class="">
          undo and redo
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/" class="">
          processing modules
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/module-header/" class="">
          module header
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/multiple-instances/" class="">
          multiple instances
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/presets/" class="">
          presets
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/module-controls/" class="">
          module controls
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/curves/" class="">
          curves
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/wavelets/" class="">
          wavelets
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/processing-modules/deprecated/" class="">
          deprecated modules
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/" class="">
          masking &amp; blending
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/blend-modes/" class="">
          blend modes
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/masks/" class="">
          masks
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/masks/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/masks/drawn/" class="">
          drawn masks
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/masks/parametric/" class="">
          parametric masks
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/masks/drawn-and-parametric/" class="">
          combining drawn &amp; parametric masks
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/masks/refinement-controls/" class="">
          mask refinement &amp; additional controls
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/masking-and-blending/masks/raster/" class="">
          raster masks
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/darkroom/organization/" class="">
          organization
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/organization/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/organization/module-groups/" class="">
          module groups
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/organization/quick-access-panel/" class="">
          quick access panel
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/darkroom/organization/manage-module-layouts/" class="">
          manage module layouts
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/tethering/" class="">
          Tethering
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/tethering/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/tethering/tethering-view-layout/" class="">
          tethering view layout
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/tethering/examples/" class="">
          examples
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/tethering/troubleshooting/" class="">
          troubleshooting
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/map/" class="">
          Map
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/map/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/map/map-view-layout/" class="">
          map view layout
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/slideshow/" class="">
          Slideshow
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/slideshow/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/slideshow/usage/" class="">
          usage
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/print/" class="">
          Print
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/print/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/print/print-view-layout/" class="">
          print view layout
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/" class="">
          Module Reference
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/overview/" class="">
          overview
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/" class="">
          processing modules
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/astrophoto-denoise/" class="">
          astrophoto denoise
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/base-curve/" class="">
          base curve
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/bloom/" class="">
          bloom
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/blurs/" class="">
          blurs
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/censorize/" class="">
          censorize
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/chromatic-aberrations/" class="">
          chromatic aberrations
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-balance/" class="">
          color balance
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-balance-rgb/" class="">
          color balance rgb
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-calibration/" class=" active">
          color calibration
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-contrast/" class="">
          color contrast
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-correction/" class="">
          color correction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-equalizer/" class="">
          color equalizer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-look-up-table/" class="">
          color look up table
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-mapping/" class="">
          color mapping
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-reconstruction/" class="">
          color reconstruction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/color-zones/" class="">
          color zones
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/colorize/" class="">
          colorize
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/composite/" class="">
          composite
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/contrast-equalizer/" class="">
          contrast equalizer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/crop/" class="">
          crop
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/demosaic/" class="">
          demosaic
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/denoise-profiled/" class="">
          denoise (profiled)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/diffuse/" class="">
          diffuse or sharpen
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/dither-or-posterize/" class="">
          dither or posterize
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/enlarge-canvas/" class="">
          enlarge canvas
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/exposure/" class="">
          exposure
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/external-raster/" class="">
          external raster mask
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/filmic-rgb/" class="">
          filmic rgb
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/framing/" class="">
          framing
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/graduated-density/" class="">
          graduated density
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/grain/" class="">
          grain
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/haze-removal/" class="">
          haze removal
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/highlight-reconstruction/" class="">
          highlight reconstruction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/highpass/" class="">
          highpass
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/hot-pixels/" class="">
          hot pixels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/input-color-profile/" class="">
          input color profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/lens-correction/" class="">
          lens correction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/liquify/" class="">
          liquify
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/local-contrast/" class="">
          local contrast
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/lowlight-vision/" class="">
          lowlight vision
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/lowpass/" class="">
          lowpass
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/lut-3d/" class="">
          LUT 3D
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/monochrome/" class="">
          monochrome
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/negadoctor/" class="">
          negadoctor
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/orientation/" class="">
          orientation
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/output-color-profile/" class="">
          output color profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/raw-black-white-point/" class="">
          raw black/white point
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/raw-chromatic-aberrations/" class="">
          raw chromatic aberrations
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/raw-denoise/" class="">
          raw denoise
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/retouch/" class="">
          retouch
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/rgb-curve/" class="">
          rgb curve
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/rgb-levels/" class="">
          rgb levels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/rgb-primaries/" class="">
          rgb primaries
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/rotate-perspective/" class="">
          rotate and perspective
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/rotate-pixels/" class="">
          rotate pixels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/scale-pixels/" class="">
          scale pixels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/shadows-and-highlights/" class="">
          shadows and highlights
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/sharpen/" class="">
          sharpen
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/sigmoid/" class="">
          sigmoid
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/soften/" class="">
          soften
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/split-toning/" class="">
          split-toning
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/surface-blur/" class="">
          surface blur
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/tone-curve/" class="">
          tone curve
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/tone-equalizer/" class="">
          tone equalizer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/unbreak-input-profile/" class="">
          unbreak input profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/velvia/" class="">
          velvia
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/vignetting/" class="">
          vignetting
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/watermark/" class="">
          watermark
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/white-balance/" class="">
          white balance
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/basic-adjustments/" class="">
          (deprecated) basic adjustments
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/channel-mixer/" class="">
          (deprecated) channel mixer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/contrast-brightness-saturation/" class="">
          (deprecated) contrast brightness saturation
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/crop-rotate/" class="">
          (deprecated) crop and rotate
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/defringe/" class="">
          (deprecated) defringe
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/fill-light/" class="">
          (deprecated) fill light
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/global-tonemap/" class="">
          (deprecated) global tonemap
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/invert/" class="">
          (deprecated) invert
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/levels/" class="">
          (deprecated) levels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/spot-removal/" class="">
          (deprecated) spot removal
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/tone-mapping/" class="">
          (deprecated) tone mapping
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/vibrance/" class="">
          (deprecated) vibrance
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/processing-modules/zone-system/" class="">
          (deprecated) zone system
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/" class="">
          utility modules
      </a>

   <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/" class="">
          darkroom
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/clipping/" class="">
          clipping warning
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/color-assessment/" class="">
          color assessment
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/duplicate-manager/" class="">
          duplicate manager
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/gamut/" class="">
          gamut check
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/global-color-picker/" class="">
          global color picker
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/guides-overlays/" class="">
          guides &amp; overlays
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/high-quality-processing/" class="">
          high quality processing
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/history-stack/" class="">
          history stack
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/image-info-line/" class="">
          image information line
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/mask-manager/" class="">
          mask manager
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/module-order/" class="">
          module order
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/navigation/" class="">
          navigation
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/raw-overexposed/" class="">
          raw overexposed warning
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/snapshots/" class="">
          snapshots
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/darkroom/soft-proof/" class="">
          soft proof
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/" class="">
          lighttable
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/selected-image/" class="">
          actions on selection
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/history-stack/" class="">
          history stack
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/import/" class="">
          import
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/lua-scripts-installer/" class="">
          lua scripts installer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/select/" class="">
          selection
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/styles/" class="">
          styles
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/lighttable/timeline/" class="">
          timeline
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/map/" class="">
          map
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/map/find-location/" class="">
          find location
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/map/locations/" class="">
          locations
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/map/map-settings/" class="">
          map settings
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/print/" class="">
          print
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/print/print-settings/" class="">
          print settings
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/" class="">
          shared
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/collection-filters/" class="">
          collection filters
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/collections/" class="">
          collections
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/export/" class="">
          export
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/filmstrip/" class="">
          filmstrip
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/focus-peaking/" class="">
          focus peaking
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/geotagging/" class="">
          geotagging
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/image-information/" class="">
          image information
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/metadata-editor/" class="">
          metadata editor
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/recent-collections/" class="">
          recently used collections
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/scopes/" class="">
          scopes
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/shared/tagging/" class="">
          tagging
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/tethering/" class="">
          tethering
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/tethering/camera-settings/" class="">
          camera settings
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/tethering/live-view/" class="">
          live view
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/module-reference/utility-modules/tethering/session/" class="">
          session
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/" class="">
          Preferences &amp; Settings
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/general/" class="">
          general
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/import/" class="">
          import
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/lighttable/" class="">
          lighttable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/darkroom/" class="">
          darkroom
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/processing/" class="">
          processing
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/security/" class="">
          security
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/storage/" class="">
          storage
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/miscellaneous/" class="">
          miscellaneous
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/shortcuts/" class="">
          shortcuts
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/presets/" class="">
          presets
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/preferences-settings/lua-options/" class="">
          lua options
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/lua/" class="">
          Scripting with Lua
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/basic-principles/" class="">
          basic principles: luarc files
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/a-simple-example/" class="">
          a simple lua example
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/printing-labeled-images/" class="">
          printing labeled images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/simple-shortcut/" class="">
          adding a simple shortcut
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/exporting-images/" class="">
          exporting images with lua
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/building-ui-elements/" class="">
          building user interface elements
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/sharing-scripts/" class="">
          sharing scripts
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/calling-from-dbus/" class="">
          calling lua from dbus
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/darktable-from-lua/" class="">
          using darktable from a lua script
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/lua/api/" class="">
          lua API
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/guides-tutorials/" class="">
          Guides &amp; Tutorials
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/guides-tutorials/monochrome/" class="">
          developing monochrome images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/guides-tutorials/batch-editing/" class="">
          batch-editing images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/guides-tutorials/other-resources/" class="">
          other resources
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/special-topics/" class="">
          Special Topics
      </a>

   <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/" class="">
          color management
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/display-profile/" class="">
          display profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/rendering-method/" class="">
          rendering method
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/rendering-intent/" class="">
          rendering intent
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/color-spaces/" class="">
          darktable&#39;s color spaces
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/unbounded-colors/" class="">
          unbounded colors
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/color-artifacts/" class="">
          possible color artifacts
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-management/color-dimensions/" class="">
          darktable&#39;s color dimensions
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/" class="">
          OpenCL
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/background/" class="">
          the background
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/how-opencl-works/" class="">
          how OpenCL works
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/activate-opencl/" class="">
          activating OpenCL in darktable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/setting-up/" class="">
          setting up OpenCL
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/problems-solutions/" class="">
          possible problems &amp; solutions
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/scheduling-profile/" class="">
          scheduling profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/multiple-devices/" class="">
          multiple devices
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/opencl/still-doesnt-work/" class="">
          OpenCL still does not run for me
      </a>

   </li>
   </ul>
   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/mem-performance/" class="">
          memory &amp; performance tuning
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/special-topics/darktable-chart/" class="">
          using darktable-chart
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/darktable-chart/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/darktable-chart/usage/" class="">
          usage
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/darktable-chart/source-image/" class="">
          source image
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/darktable-chart/reference-values/" class="">
          reference values
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/darktable-chart/process/" class="">
          process
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/darktable-chart/making-input-images/" class="">
          making input images for darktable-chart
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/" class="">
          program invocation
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/darktable/" class="">
          darktable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/darktable-cli/" class="">
          darktable-cli
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/darktable-generate-cache/" class="">
          darktable-generate-cache
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/darktable-chart/" class="">
          darktable-chart
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/darktable-cltest/" class="">
          darktable-cltest
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/darktable-cmstest/" class="">
          darktable-cmstest
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/program-invocation/purge_non_existing_images_sh/" class="">
          purge_non_existing_images.sh
      </a>

   </li>
   </ul>
   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/variables/" class="">
          variables
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/color-pipeline/" class="">
          darktable&#39;s color pipeline
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/midi-device-support/" class="">
          midi device support
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/contributing/" class="">
          contributing to dtdocs
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/en/special-topics/translating/" class="">
          translating dtdocs
      </a>

   </li>
   </ul>
   </li>
   </ul>

		</nav>
	    </div>

            

        </div>


    </body>
</html>

<script>
(function($) {
  

  $.fn.scrollToMiddle = function(options) {
    var settings = $.extend({
        duration: 0
    }, options );

    return this.each(function() {
      var $el = $(this);
      var elOffset = $el.offset().top;
      var elHeight = $el.height();
      var windowHeight = $(window).height();
      var offset;
      if (elHeight < windowHeight) {
        offset = elOffset - ((windowHeight / 2) - (elHeight / 2));
      }
      else {
        offset = elOffset;
      }
      $('.navigation').scrollTop(offset);
    });
  };
}(jQuery));

$('.navigation').css('opacity', '0');
 $(document).ready(function(){
     $('.parent ul').hide();
     $('.navigation').css('opacity', 1.0);
     $('.active').parents('ul').show();
     $('.active').siblings('ul').show();
     $('.active').children('i.toggle').removeClass("fa-plus-squre").addClass("fa-minus-square-o");
     $('.active').parents('li').children('.toggle').removeClass("fa-plus-square").addClass("fa-minus-square-o");
     $('.active').scrollToMiddle();

     $('.toggle').on('click', function (e) {
       e.stopPropagation();
       $(this).siblings('ul').slideToggle();

       if($(this).hasClass("fa-plus-square")) {
           $(this).addClass("fa-minus-square-o");
           $(this).removeClass("fa-plus-square");
       }
       else {
           $(this).addClass("fa-plus-square");
           $(this).removeClass("fa-minus-square-o");
       }
     });
 });

</script>


<script>
 var _paq = window._paq = window._paq || [];
  
 _paq.push(['trackPageView']);
 _paq.push(['enableLinkTracking']);
 (function() {
     var u="https://piwik.kees.nl/";
     _paq.push(['setTrackerUrl', u+'matomo.php']);
     _paq.push(['setSiteId', '21']);
     var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
     g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
 })();
</script>
<noscript><p><img src="https://piwik.kees.nl/matomo.php?idsite=21&amp;rec=1" style="border:0;" alt="" /></p></noscript>


