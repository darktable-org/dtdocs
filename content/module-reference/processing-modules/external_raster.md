---
title: external raster mask
id: external-raster
weight: 10
applicable-version: 5.2
tags:
working-color-space: RGB
view: darkroom
masking: true
---

Make `.pfm` files available as a raster mask to be used by other module as such.

---

**Note**: `.pfm` are not very common but darktable itself and GIMP can generate such files. Grayscale files and RGB files are both supported.

---

# usage

Raster masks can be used in many modules - as other masks - to restrict the module's processing effect. In some cases you might want such a mask to be generated by some other software. Examples might by a painting program like GIMP, a software that isolates background or the main image subject or just some background pattern.

External raster mask files are made available as a raster mask very early in the pixel pipeline, they can be of any dimension/size and are always scaled to the currently developed image size. Please note: as raster masks are distorted by modules like _orientaion_ the external raster mask dimensions should have the same orientation as the original raw file sensor data. Imagine a portrait photo with 6000x4000 pixels being processed after orientation as 4000x6000, in this case the external raster mask file should have sizes as 6000x4000, 300x200 or 600x400, **not** 4000x6000 ...


# module controls

file selection
: Choose the external raster file to use. File selection is inactive if the rasterfile root folder has not been defined in [preferences > processing](../../preferences-settings/processing.md).

mode
: You may select any of the RGB channels content or a combination of them to be taken for the raster mask.
